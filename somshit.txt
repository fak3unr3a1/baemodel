Launch EC2 instance — Amazon Linux 2 AMI, t2.micro
Connect to instance using EC2 Instance Connect
Run the following commands on EC2:
sudo su
yum update
yum install docker
systemctl enable docker.service
systemctl start docker.service
docker pull baemodel
docker images

Create an IAM role and use policy "ecr-allow—all.json"
Attach role to EC2 instance and then run the following commands (replace account number) :

aws ecr create—repository --repository-name baemodel —region eu-central-1
docker tag baemodel:latest 776518716686.dkr.ecr.eu-central-1.amazonaws.com/baemodel:latest
aws ecr get-login-password --region eu-central-1 | docker login --username AWS --password-stdin 776518716686.dkr.ecr.eu-central-1.amazonaws.com
docker push 776518716686.dkr.ecr.eu-central-1.amazonaws.com/baemodel:latest 



{
    "Version": "2012-10-17",
    "id": "ECRPolicy",
    "Statement" : [
        {
         "Sid": "AllowAll",
         "Effect": "Allow",
         "Action": "ecr:*",
         "Resource":"*"

        }
    ]

}